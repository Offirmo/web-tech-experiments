<!doctype html>
<!-- html_004 template -->
<!-- js_005 template -->
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>

	<title>JS base 006</title>
	<meta name="description" content="">
	<meta name="author" content="Offirmo">

	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<xml:namespace ns="urn:schemas-microsoft-com:vml" prefix="v"/>

	<!-- favicons -->
	<!-- For IE -->
	<!--[if IE]>
	<link rel="shortcut icon" href="misc/favicon.ico" type="image/x-icon" />
	<LINK rel="icon" href="misc/favicon.ico" type="image/ico">
	<![endif]-->
	<!-- For Modern Browsers with PNG Support -->
	<link rel="icon" href="misc/favicon_16x16.png" type="image/png" />
	<!-- ... (see html template) ... -->


	<!-- style -->
	<link href="bower_components/pace/themes/pace-theme-flash.css" rel="stylesheet" />
	<style>
	 /* ... */
	</style>

	<!-- js -->
	<!--<script src="bower_components/pace/pace.min.js"></script>-->
	<script>
		console.log("hello from header !");
	</script>
	<script data-main="misc/components.js" src="bower_components/requirejs/require.js"></script>

</head>
<body>

<div id="content">
	<div class="container">
		<h3 id="header">JS base 006</h3>
		<p>Advanced javascript enabled page. Using require.js, loading all libs.</p>
		<p>Contains experiments for a QCM</p>
		<p>(stuff is sent to firebug console)</p>
	</div> <!-- /container -->
</div> <!-- /content -->

<div id="foo">
	<span class="bar">Foo bar</span>
	<span class="baz">Foo baz</span>
	<span class="bar baz">Foo bar baz</span>
</div>
<div id="quux">
	<span class="bar">Foo bar</span>
	<span class="baz">Foo baz</span>
</div>


<noscript>Your browser either does not support JavaScript, or has it turned off.</noscript>
<script>

	console.log("hello from body !");

	main = function()
	{
		console.log("Starting rsrc load...");
		// all libs so we chekc that they work !
		require(
		[
			"underscore",
			"backbone",
			"bootstrap3"
		],
		function() {
			// due to how we wrote component.js, we know that document is fully loaded
			console.log("load done !");

			console.group("question 1/20");
			// ...
			console.groupEnd();

			console.group("question 2/20");
			(function question2() {
				var names = [ 'Lea', 'John', 'Rachel', 'Yehuda' ];
				(function() {
					for(name in names) {
						console.log(name);
					}
				})();
			})();
			console.groupEnd();

			console.group("question 3/20");
			function isAFoobar(str) {
				return !! str.match(/^fo+(bar|baz)/);
			}
			console.log( "A", isAFoobar('foobar')    );
			console.log( "B", isAFoobar('fobaz')     );
			console.log( "C", isAFoobar('foobarbaz') );
			console.log( "D", isAFoobar('oofbar')    );
			console.groupEnd();

			console.group("question 4/20");
			console.log( "A", 0 == ''          );
			console.log( "B", 'f' + 1 == 'f1'  );
			console.log( "C", 0 === ''         );
			console.log( "D", [] === []        );
			console.groupEnd();

			console.group("question 5/20");
			(function question5() {
				var arr = [ 'Pierre', 'Paul', 'Jacques' ];
				console.log( arr.join(', ') );
				arr.push( 'Jean' );
				console.log( arr[0] );
				console.log( arr.length );
			})();
			console.groupEnd();

			console.group("question 6/20");
			(function question5() {
				var obj = { hello: 'Hello' }, hello = 'Hello';
				obj[hello] += ','
				obj.hello += ' world';
				obj['hello'] += '!';
				console.log( obj.hello );
			})();
			console.groupEnd();

			console.group("question 8/20");
			console.log( document.getElementsByClassName('bar') );
			console.log( document.getElementsByTagName('span')  );
			console.log( document.querySelector('span.bar')     );
			console.log( document.querySelectorAll('#foo .bar, #quux span.bar')  );
			console.groupEnd();

			console.group("question 9/20");
			(function question9() {
				function MyObject() {
					this.one = function() {
						return 1;
					};
					function two() {
						return 2;
					};
				};

				MyObject.prototype.three = 3;
				MyObject.four = 4;

				var obj = new MyObject();
				try { console.log( obj.one() ); } catch(e) {}
				try { console.log( obj.two() ); } catch(e) {}
				try { console.log( obj.three ); } catch(e) {}
				try { console.log( obj.four );  } catch(e) {}
			})();
			console.groupEnd();

			console.group("question 10/20");
			(function question10() {
				function laugh() {
					return
					{
						ha: 'Haha!'
					}
				}
				var temp = laugh();
				console.log( temp );
			})();
			console.groupEnd();

			console.group("question 11/20");
			(function question11() {
				var foo = function() {
					console.log( arguments );
				};
				foo( 1, 2, 3 );
			})();
			console.groupEnd();

			console.group("question 12/20");
			(function question12() {
				function Item() {
					this.name = 'item';
				};
				Item.prototype.take = function() {
					console.log( 'You can take ' + this.name );
				};
				function Lantern() {
					this.name = 'lantern';
					this.light = function() {
						console.log( 'Light the ' + this.name );
					}
				};
				Lantern.prototype = Item.prototype;
				var lantern = new Lantern();
				setTimeout( lantern.light, 1);
				lantern.take();
			})();
			console.groupEnd();

			console.group("question 17/20");
			console.log( "A", 0.1 + 0.2 === 0.3               );
			console.log( "Aa", 0.1 + 0.2                      );
			console.log( "B", ('foo' + + 'bar') === 'foobar'  );
			console.log( "Ba",('foo' + + 'bar')               );
			console.log( "C", parseInt('06') == 6             );
			console.log( "D", parseInt('08') == 8             );
			console.groupEnd();
		});
	};
</script>

</body>
</html>
