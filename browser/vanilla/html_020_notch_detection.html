<!DOCTYPE html>
<html lang="fr" class="o⋄top-container">
<head>
	<meta charset="utf-8">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/><!-- http://stackoverflow.com/questions/14637943/what-is-x-ua-compatible-when-it-references-ie-edge-chrome-1 -->

	<title>HTML 020 notch detection</title>

	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover">

	<link rel="stylesheet" type="text/css" href="https://rawgit.com/Offirmo/offirmo-monorepo/master/2-advanced/view-css/dist/offirmo-reset%2Butils.css" />
	<style>
		:root {
			--sait: env(safe-area-inset-top);
			--sair: env(safe-area-inset-right);
			--saib: env(safe-area-inset-bottom);
			--sail: env(safe-area-inset-left);
		}

		body {
			background-color: black;
		}
		main {
			background-color: #d9edf7;
			/*margin-top: env(safe-area-inset-top);
			margin-right: env(safe-area-inset-right);
			margin-bottom: env(safe-area-inset-bottom);
			margin-left: env(safe-area-inset-left);*/
			border-radius: 25px;
		}
	</style>
</head>

<body class="o⋄top-container o⋄body⁚full-page">
	<main class="o⋄top-container">
	<h1>...</h1>
	<p>
		4 <a>https://stackoverflow.com/questions/46318395/detecting-mobile-device-notch</a>
	</p>

		<p>Renders: <span id="render_count">?</span></p>
	<ul>
		<li>Safe area inset top: <span id="sait"></span></li>
		<li>Safe area inset right: <span id="sair"></span></li>
		<li>Safe area inset bottom: <span id="saib"></span></li>
		<li>Safe area inset left: <span id="sail"></span></li>
	</ul>
	</main>

	<script>
		document.querySelector('h1').textContent = document.title
		Array.prototype.forEach.call(document.querySelectorAll('a'), function(el) {
			el.href || (el.href = el.text)
		})

		let render_count = 0
		function render() {
			render_count++
          ;['sait', 'sair', 'saib', 'sail'].forEach(id => {
              document.querySelector(`#${id}`).textContent = getComputedStyle(document.documentElement).getPropertyValue(`--${id}`)
          })
			document.querySelector(`#render_count`).textContent = render_count
		}

      window.addEventListener("resize", render)
		render()
	</script>
